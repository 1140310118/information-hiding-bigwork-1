# 图像隐写大作业

By 张义策,赵正宇,王增,刘名风 2017-3-11;
	语言：python 3;
	界面：Tkinter;


## 熵编码

采用哈夫曼压缩的方式，基本思想很容易找到介绍，下面说一下实现过程中遇到的难点：

1. **二进制操作**

	Python中内存的概念很弱，所以想要按熟悉的C的方式操作内存是很困难的，好在Python提供了位运算符和strut操作和保存二进制数。

2. **文件头的定义**

	压缩后的文件中要保存Huffman的信息，才能在解压时很方便地重建哈夫曼树进行解码。但是由于压缩数据的类型不同（不一定都是编码一个字节的数据），所以很难有一个通用的既节省空间又完整保存树的信息的方法，这里由于量化后的DCT系数都是一个字节大小，所以我们用256*4B=1KB的空间来存储字符出现的频率，这样就能在解码时很方便地重建哈夫曼树。

3. **结束节点**

	由于最后一个要编码的数据编码完成后，凑不足一个8位的基本数据进行存储，所以考虑在建立哈夫曼树的过程中加入一个权重为0的特殊叶子节点作为结束标记，当最后编码路径不够8位时，就将该特殊节点的路径补齐到不足8位的部分，这样解码时就可以将到达特殊叶子节点或是读完了所有编码作为对解码结束的判断
